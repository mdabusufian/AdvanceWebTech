<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
</head>
<body onload="loadDoc()">
<h2>Products</h2>
<div id="all" name="all"></div>

<script>
function loadDoc() {
  const xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
  
    if (this.readyState == 4 && this.status == 200) {
    	var obj_arr = JSON.parse( this.responseText);
      console.log(obj_arr);
      show(obj_arr);
      
    }
  
  };
  xhttp.open("GET", "http://127.0.0.1:8000/api/dashboard1");
  xhttp.send();
}
function show(items){
  var listElement = document.getElementById('all');
  items.forEach(function(item){
    var list = document.createElement('ul');
    var name = document.createElement('li');
    name.innerHTML=(item.name);
    list.appendChild(name);
    var price = document.createElement('li');
    price.innerHTML=(item.price);
    list.appendChild(price);
    listElement.appendChild(list);
    var seller = document.createElement('li');
    seller.innerHTML=(item.seller);
    list.appendChild(seller);
    listElement.appendChild(list);
  });
}
</script>
</body>
</html> 